{"ast":null,"code":"var _jsxFileName = \"/Users/Guild/Documents/Local_School/COMP_4533/assignment_1/my-app/src/components/PlayDetailApp.js\";\nimport React from \"react\";\nimport FavouritesList from \"./FavouritesList.js\";\nimport PlayOverview from \"./PlayOverview.js\";\nimport PlayData from \"./PlayData.js\";\nimport \"./css/PlayDetailApp.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass PlayDetailApp extends React.Component {\n  constructor(props) {\n    super(props);\n    const tabs = [\"Details\", \"Characters\", \"Text\"];\n    this.state = {\n      currentTab: tabs[0],\n      tabs: props.play.filename ? tabs : [tabs[0]],\n      characters: [],\n      acts: []\n    };\n  }\n\n  async componentDidMount() {\n    const play = this.props.play;\n    const playData = this.props.playData.find(p => p.id === play.id); //const shouldFetch = (!playData && play.filename) || (play.filename)\n\n    if (!playData || play.filename) {\n      try {\n        const url = \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/play.php?name=\" + play.id;\n        const response = await fetch(url);\n        const data = await response.json();\n        this.setState({\n          characters: data.persona\n        });\n        this.setState({\n          acts: data.acts\n        });\n        this.props.savePlayData(play, data);\n        console.log(data);\n      } catch {\n        console.error(\"fetch error\");\n      }\n    } else {\n      this.setState({\n        characters: playData.persona\n      });\n      this.setState({\n        acts: playData.acts\n      });\n    }\n  }\n\n  render() {\n    const setCurrentTab = tab => {\n      this.setState({\n        currentTab: tab\n      });\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"play-detail hidden-favourites\",\n      children: [/*#__PURE__*/_jsxDEV(FavouritesList, {\n        favourites: this.props.favourites,\n        removeFromFavourites: this.props.removeFromFavourites\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PlayOverview, {\n        currentTab: this.state.currentTab,\n        play: this.props.play,\n        characters: this.state.characters,\n        acts: this.state.acts,\n        addToFavourites: this.props.addToFavourites\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(PlayData, {\n        currentTab: this.state.currentTab,\n        tabs: this.state.tabs,\n        play: this.props.play,\n        characters: this.state.characters,\n        acts: this.state.acts,\n        setCurrentTab: setCurrentTab\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\n;\nexport default PlayDetailApp;","map":{"version":3,"sources":["/Users/Guild/Documents/Local_School/COMP_4533/assignment_1/my-app/src/components/PlayDetailApp.js"],"names":["React","FavouritesList","PlayOverview","PlayData","PlayDetailApp","Component","constructor","props","tabs","state","currentTab","play","filename","characters","acts","componentDidMount","playData","find","p","id","url","response","fetch","data","json","setState","persona","savePlayData","console","log","error","render","setCurrentTab","tab","favourites","removeFromFavourites","addToFavourites"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport FavouritesList from \"./FavouritesList.js\";\nimport PlayOverview from \"./PlayOverview.js\";\nimport PlayData from \"./PlayData.js\";\nimport \"./css/PlayDetailApp.css\";\n\nclass PlayDetailApp extends React.Component {\n    constructor(props) {\n        super(props);\n        const tabs = [\"Details\", \"Characters\", \"Text\"];\n        this.state = {currentTab: tabs[0],\n                      tabs: props.play.filename ? tabs : [tabs[0]],\n                      characters: [],\n                      acts: []};\n    }\n                            \n    async componentDidMount() {\n        const play = this.props.play;\n        const playData = this.props.playData.find((p) => p.id === play.id);\n        //const shouldFetch = (!playData && play.filename) || (play.filename)\n        \n        if (!playData || play.filename) {\n            try {\n                const url = \"https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/play.php?name=\" + play.id;\n                const response = await fetch(url);\n                const data = await response.json();\n                this.setState({characters: data.persona});\n                this.setState({acts: data.acts});\n                this.props.savePlayData(play, data);\n                console.log(data);\n            } \n            catch {\n                console.error(\"fetch error\");\n            }\n        }\n        else {\n            this.setState({characters: playData.persona});\n            this.setState({acts: playData.acts});\n        }\n    }\n    \n    render() {\n        const setCurrentTab = (tab) => {\n            this.setState({currentTab: tab});\n        }\n        \n        return (\n            <div className=\"play-detail hidden-favourites\">\n                <FavouritesList favourites={this.props.favourites} removeFromFavourites={this.props.removeFromFavourites}/>\n                <PlayOverview currentTab={this.state.currentTab} play={this.props.play} characters={this.state.characters} acts={this.state.acts} addToFavourites={this.props.addToFavourites}/>\n                <PlayData currentTab={this.state.currentTab} tabs={this.state.tabs} play={this.props.play} characters={this.state.characters} acts={this.state.acts} setCurrentTab={setCurrentTab}/>\n            </div>\n        );\n    }\n};\n\nexport default PlayDetailApp"]},"metadata":{},"sourceType":"module"}